sudo: false
language: node_js
node_js:
- '6'
- '5'
- '4'
os:
- osx
- linux
cache:
  directories:
  - node_modules
before_install:
- npm config set spin false
script: npm run test:cover
after_script: cat coverage/lcov.info | node_modules/coveralls/bin/coveralls.js
after_success: scripts/deploy

deploy:
  - provider: npm
    email: dylan947@gmail.com
    api_key:
      secure: Y7mnpEAfhjICTKIjfAyCMz11irbNQYGA+0gZ768uBadtn2A8IEuVSc6SUOQwcssCGlpWNzLw9h28uOl209HeVruH8u4jqhtATBQMH38StpCCaUZWD64bQblgu2tzBhSrrChag3bAmRuiKKyhmebpV59Ag6koaqR9WRtYeeCQRdmChcyhwLVlTiP8TNz4uJMeBAVWDqAXkNBWsWOQpRfK77XIPC8P8H8nOigGVVWt4zjKX2qVbFc45Yn8JTtbofKpx2CU5IYspk/eMKuRHwbcx1zXJ4DMRi4/iLDcsqkl0WoyIGkSfxkpbvfJtUrrg9N2JLtka+JvLpL7c27qxY2RSyPK3L3On0tFRGIAHPmur93zXALaaztiN8SIrw2MoGYoRjqzhRf2RHHNwbxS7HW+xr98ymfNXfJfSgZHsS4wOnpm8cm8TLFVJQatu9Cn4pgo/QEEJvdY77zF1tRVrHQzl+CP9zDzPFM0ntqgO1sbmccxxL6pI4TMB4IrWHje2Y9s5lrWRWRSUGZ+evnDkoOGjoaCS5UW03Qf7s4H1ACZDV5ib9/IHw/9hxGyLfP6IrGY4RT1vg51Eqe3uoRHfJpeeAn3socTcuMH9oio7PWXHZ5uyGtGFyu+Z9sSQRibDd2TxenTRZn0tPbhwREionvY9Hf0gFexvtP34IR62GQywrI=
    on:
      tags: true
      repo: dylanfoster/parch

env:
  global:
    - GH_REF: "github.com/parch-js/parch-js.github.com"
    - secure: ZOWX0zkd1L8w04v/nUgkWXFe4weNui8HVwgumyBnID5Ei8GGxuE48Fm8xibFOaObbS+8weKJAkXUUSQBcLfOA5jRF2JtHLIBbj5q4eDI+I8DdvVB2m+zzEhlmGMxWph4yEbw5v1Or/q4k6WvV609U9QMqkQXiGKQnmKPY+wDIHftVKFixR3RvndDHcjx5lh+XV39wYtRHE6b48KPQS36W0PLbl8FSsBVBt+IbXiM0+8peAVZeuHA5fZvur+Xj/2o0HSUHBDC2bkavzY93uoSLgs130+dlj/7Y8duL/Dsfd8U8GA2vUwWu2wyaMuzYWEz5jUks+wGY4GpDS+n7rqayLmhOOEQxVNx5uCVQBlKSH0DvzVcakQl9jV+gIz83rzSadlpuR/KTL6Z5qum9r/nGrSd8NZokn/DH6zRNQRqpFTBCVkDP0xgWq9kH9GxB+U3QBAO76FZid7HMj37KNRSfPcW4EjMwjiOfV2llaTc99grdDjsU85Gai6s2DyAYVcz+KmxIWSI4d+xT4u0OKLuRjPjFNvNZQbl2L8sDRFXvoU5zYHUEuCl01Q0/qqEUnlkxe5ZBR6DV7Gd+lKfhqhH6ku9vTB6RRR7UQQtMQLjbXc0UCmrUAkHYeOxpjHq8xQHouiftuNmVIK7cqY63h2DJLx9wbd5EfHZ8FE8xII0CD4=
